<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdelbertusShop | Ekskluzywne Vintage 80s/90s</title>
    <meta name="description" content="Koszulki, bluzy i czapki w stylu 80s/90s. Unikalne projekty, custom design, wsparcie dla Domu Dziecka Promyk.">
    <meta property="og:title" content="AdelbertusShop ‚Äì Vintage z charakterem">
    <meta property="og:description" content="Noszone tylko przez tych, kt√≥rzy wiedzƒÖ.">
    <meta property="og:image" content="https://i.ibb.co/N2t3thBF/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=BAApXIlx_i9yxgPZvc4vuso00U8LSVbTZl57n3Pcfr0LfvppkHOPgUjsoN8-QLjxxH-Qb1DlbNOd-Pb2Z4&currency=PLN"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #d4af37;
            --dark-gold: #b8941f;
            --dark: #111;
            --cream: #fff8e7;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Montserrat',sans-serif; background:#f8f5f0; color:#222; line-height:1.6; }
        h1,h2,h3,h4 { font-family:'Playfair Display',serif; font-weight:900; }
        .gold { color:var(--gold); }
        .gold-bg { background:var(--gold); color:#000; }
        nav { background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); }
        .nav-btn { 
            @apply px-6 py-3 rounded-full border-2 border-yellow-400 text-white font-bold transition-all;
        }
        .nav-btn:hover, .nav-btn.active { @apply bg-yellow-400 text-black scale-105; }
        .product-card { 
            @apply bg-white rounded-2xl overflow-hidden shadow-xl transition-all duration-300 hover:-translate-y-4 hover:shadow-2xl;
        }
        .add-to-cart-btn { 
            @apply w-full py-4 mt-4 font-bold text-lg rounded-xl transition-all duration-300 shadow-lg;
        }
        .fly-to-cart {
            position:fixed; z-index:9999; width:60px; height:60px; border-radius:50%; 
            background:var(--gold); display:flex; align-items:center; justify-content:center;
            animation:flyToCart 0.8s forwards cubic-bezier(0.25,0.46,0.45,0.94);
            box-shadow:0 10px 30px rgba(0,0,0,0.4);
        }
        @keyframes flyToCart {
            to { transform:translate(300px,-400px) scale(0.1); opacity:0; }
        }
        .pulse { animation:pulse 2s infinite; }
        @keyframes pulse { 0%,100% { box-shadow:0 0 0 0 rgba(212,175,55,0.7); } 70% { box-shadow:0 0 0 15px rgba(212,175,55,0); } }
    </style>
</head>
<body>

<!-- Chatbot -->
<div class="fixed bottom-6 left-6 z-50">
    <button onclick="toggleChatbot()" class="w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center text-3xl shadow-2xl hover:scale-110 transition pulse">
        <i class="fas fa-robot"></i>
    </button>
    <div id="chatWindow" class="hidden fixed bottom-24 left-6 w-96 bg-white rounded-3xl shadow-2xl flex flex-col overflow-hidden border-4 border-yellow-400 h-[520px]">
        <div class="bg-yellow-400 p-4 text-black font-bold flex justify-between items-center">
            <span>üß† Adelbertus Asystent</span>
            <button onclick="toggleChatbot()" class="text-2xl font-black">√ó</button>
        </div>
        <div id="chatMessages" class="flex-1 p-5 overflow-y-auto bg-zinc-50 space-y-4"></div>
        <div class="p-4 border-t bg-white">
            <div class="flex gap-2">
                <input id="chatInput" type="text" placeholder="Co Ciƒô jara?" class="flex-1 px-5 py-3 border rounded-full focus:outline-none focus:border-yellow-400" onkeypress="if(event.key==='Enter') sendChatMessage()">
                <button onclick="sendChatMessage()" class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-xl"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</div>

<!-- Koszyk ikona -->
<div id="cartIcon" onclick="toggleCart()" class="fixed bottom-6 right-6 w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center text-3xl cursor-pointer shadow-2xl z-50 hover:scale-110 transition">
    <i class="fas fa-shopping-cart"></i>
    <span id="cartCount" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold w-7 h-7 flex items-center justify-center rounded-full">0</span>
</div>

<!-- Nag≈Ç√≥wek -->
<header class="relative bg-black text-white py-20 text-center overflow-hidden">
    <div class="absolute inset-0 bg-cover bg-center opacity-40" style="background-image:url('https://i.ibb.co/N2t3thBF/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg')"></div>
    <div class="relative z-10">
        <h1 class="text-7xl md:text-9xl font-black tracking-tighter gold">ADELBERTUS</h1>
        <p class="text-2xl md:text-3xl mt-4 italic">Tylko dla tych, co wiedzƒÖ.</p>
        <p class="mt-6 text-xl">Ka≈ºdy zakup = wsparcie dla Domu Dziecka Promyk</p>
    </div>
</header>

<!-- Nawigacja -->
<nav class="sticky top-0 z-40 bg-black/90 backdrop-blur-lg border-b border-yellow-400/30">
    <div class="max-w-7xl mx-auto px-4 py-4 flex flex-wrap justify-center gap-3">
        <button class="nav-btn active" data-section="home">Strona G≈Ç√≥wna</button>
        <button class="nav-btn" data-section="shop">Sklep</button>
        <button class="nav-btn" data-section="studio">Custom Design</button>
        <button class="nav-btn" data-section="charity">Zbi√≥rka</button>
        <button class="nav-btn" data-section="about">O nas</button>
        <button class="nav-btn" data-section="contact">Kontakt</button>
    </div>
</nav>

<main class="max-w-7xl mx-auto px-4 py-12">

<!-- Strona g≈Ç√≥wna -->
<section id="home" class="active">
    <div class="text-center mb-16">
        <h2 class="text-5xl font-black gold">Ekskluzywne projekty, kt√≥rych nie znajdziesz nigdzie indziej</h2>
        <p class="text-xl mt-4 text-gray-700 max-w-3xl mx-auto">Vintage 80s/90s z charakterem. NoszƒÖ je tylko ci, kt√≥rzy czujƒÖ r√≥≈ºnicƒô.</p>
    </div>

    <!-- Polecane produkty -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
        <!-- tu wstawiamy 3-4 najlepsze produkty z JS -->
    </div>

    <!-- Zbi√≥rka mini -->
    <div class="bg-gradient-to-br from-purple-900 to-black text-white p-12 rounded-3xl text-center shadow-2xl border-4 border-yellow-400/30">
        <h3 class="text-4xl font-black mb-6">Ka≈ºda koszulka = kawa≈Çek nadziei</h3>
        <p class="text-2xl mb-8">Zebrali≈õmy ju≈º <span id="collectedAmount" class="gold font-black">12 450 z≈Ç</span> z 25 000 z≈Ç</p>
        <div class="w-full bg-gray-800 rounded-full h-6 mb-6 overflow-hidden">
            <div id="progressBar" class="bg-yellow-400 h-6 rounded-full w-[50%] transition-all duration-1500"></div>
        </div>
        <a href="#charity" class="inline-block bg-yellow-400 text-black font-bold px-10 py-5 rounded-full text-xl hover:scale-105 transition">Do≈ÇƒÖcz do zbi√≥rki</a>
    </div>
</section>

<!-- Sklep -->
<section id="shop" class="hidden">
    <div class="flex flex-col md:flex-row justify-between items-center mb-12 gap-6">
        <h2 class="text-5xl font-black gold">Sklep</h2>
        <div class="flex flex-col sm:flex-row gap-4 w-full md:w-auto">
            <select id="filterCategory" onchange="filterProducts()" class="px-6 py-4 bg-white border-2 border-yellow-400 rounded-xl text-lg">
                <option value="all">Wszystko</option>
                <option value="koszulka">Koszulki</option>
                <option value="bluza">Bluzy</option>
                <option value="czapka">Czapki</option>
            </select>
            <input id="searchInput" type="text" placeholder="Szukaj wzoru..." onkeyup="filterProducts()" class="px-6 py-4 border-2 border-yellow-400 rounded-xl flex-1 text-lg">
        </div>
    </div>

    <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>
</section>

<!-- Studio projektowe -->
<section id="studio" class="hidden py-16 bg-zinc-900 text-white rounded-3xl my-12">
    <h2 class="text-5xl font-black text-center mb-12 gold">Stw√≥rz w≈Çasny projekt</h2>
    <div class="max-w-4xl mx-auto">
        <div class="border-4 border-yellow-400 p-6 bg-white rounded-3xl shadow-2xl">
            <canvas id="designCanvas" width="800" height="800" class="w-full aspect-square"></canvas>
        </div>
        <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4">
            <button onclick="addTextToCanvas()" class="gold-bg py-5 rounded-xl font-bold text-lg">Dodaj tekst</button>
            <button onclick="clearCanvas()" class="bg-red-600 py-5 rounded-xl font-bold text-lg">Wyczy≈õƒá</button>
            <button onclick="exportAndAddToCart()" class="bg-green-600 py-5 rounded-xl font-bold text-lg col-span-2 md:col-span-1">Dodaj do koszyka</button>
        </div>
    </div>
</section>

<!-- Zbi√≥rka -->
<section id="charity" class="hidden py-20 bg-gradient-to-br from-purple-950 via-black to-purple-950 text-white rounded-3xl my-12">
    <div class="text-center max-w-4xl mx-auto">
        <h2 class="text-6xl font-black mb-8">[ UPLOAD NADZIEI ]</h2>
        <p class="text-2xl mb-10">Ka≈ºdy zakup to realna pomoc dla dzieci z Domu Dziecka "Promyk".</p>
        
        <div class="bg-black/40 p-10 rounded-2xl border border-yellow-400/30 mb-12">
            <h3 class="text-4xl mb-6">Zebrali≈õmy ju≈º</h3>
            <div class="text-7xl font-black gold mb-4" id="collectedBig">12 450 z≈Ç</div>
            <p class="text-xl">z 25 000 z≈Ç potrzebnych na remont i wyposa≈ºenie</p>
            <div class="w-full bg-gray-800 h-8 rounded-full mt-8 overflow-hidden">
                <div id="charityProgress" class="bg-yellow-400 h-full w-1/2 transition-all duration-2000"></div>
            </div>
        </div>

        <div class="grid md:grid-cols-3 gap-8 text-center">
            <div class="p-8 bg-black/50 rounded-2xl border border-yellow-400/30">
                <h4 class="text-3xl mb-4">BLIK</h4>
                <div class="text-4xl font-mono font-bold">573 939 925</div>
                <p class="mt-4">Kod: POMOC</p>
            </div>
            <div class="p-8 bg-black/50 rounded-2xl border border-yellow-400/30">
                <h4 class="text-3xl mb-4">PayPal</h4>
                <a href="https://www.paypal.com/donate/?hosted_button_id=VG9UP4MTHHWYU" target="_blank" class="mt-4 inline-block bg-yellow-400 text-black px-10 py-5 rounded-full font-bold text-xl hover:scale-105 transition">Przeka≈º darowiznƒô</a>
            </div>
            <div class="p-8 bg-black/50 rounded-2xl border border-yellow-400/30">
                <h4 class="text-3xl mb-4">Kontakt</h4>
                <p>Tel: 604 296 360</p>
                <p class="mt-2">mielniczukgrzegosz74@gmail.com</p>
            </div>
        </div>
    </div>
</section>

<!-- O nas / Kontakt -->
<section id="about" class="hidden py-16">
    <h2 class="text-5xl font-black text-center gold mb-12">O nas</h2>
    <div class="grid md:grid-cols-2 gap-12 max-w-5xl mx-auto">
        <div>
            <p class="text-xl leading-relaxed">Adelbertus to nie jest kolejny sklep z ciuchami. To manifest. To powr√≥t do czas√≥w, kiedy ubranie m√≥wi≈Ço o Tobie wiƒôcej ni≈º Instagram bio.</p>
            <p class="text-xl mt-6 leading-relaxed">Ka≈ºdy projekt jest tworzony rƒôcznie, z szacunkiem do detalu i z sercem do streetwearu lat 80. i 90.</p>
        </div>
        <div class="bg-zinc-900 p-10 rounded-3xl border border-yellow-400/30">
            <h3 class="text-3xl mb-6">Kontakt</h3>
            <p class="text-xl mb-4"><i class="fas fa-envelope mr-3 gold"></i> mielniczukgrzegosz74@gmail.com</p>
            <p class="text-xl"><i class="fas fa-phone mr-3 gold"></i> 604 296 360</p>
        </div>
    </div>
</section>

</main>

<footer class="bg-black text-white py-16 text-center mt-20 border-t border-yellow-400/20">
    <div class="text-4xl font-black gold mb-6">ADELBERTUS</div>
    <p class="text-xl mb-6">Tworzone z pasjƒÖ ‚Ä¢ Noszone z dumƒÖ</p>
    <p class="text-sm opacity-70">¬© 2025 AdelbertusShop ‚Äì dzia≈Çalno≈õƒá nierejestrowana</p>
</footer>

<!-- Koszyk panel -->
<div id="cartPanel" class="fixed top-0 right-[-450px] w-[450px] h-screen bg-white shadow-2xl transition-all duration-500 z-50 overflow-y-auto">
    <div class="p-8">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-3xl font-black">Koszyk</h2>
            <button onclick="toggleCart()" class="text-4xl">&times;</button>
        </div>
        <div id="cartItems" class="space-y-6 mb-10"></div>
        <div class="border-t pt-6">
            <div class="flex justify-between text-2xl font-bold mb-6">
                <span>Suma:</span>
                <span id="cartTotal">0 z≈Ç</span>
            </div>
            <div id="paypal-button-container" class="mb-6"></div>
            <button onclick="sendOrderWhatsApp()" class="w-full bg-green-600 text-white py-5 rounded-xl font-bold text-xl mb-4 flex items-center justify-center gap-3">
                <i class="fab fa-whatsapp text-2xl"></i> Zam√≥w przez WhatsApp
            </button>
            <button onclick="sendOrderEmail()" class="w-full bg-yellow-400 text-black py-5 rounded-xl font-bold text-xl flex items-center justify-center gap-3">
                <i class="fas fa-envelope"></i> Wy≈õlij zam√≥wienie mailem
            </button>
        </div>
    </div>
</div>

<!-- Quick View Modal -->
<div id="quickViewModal" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-[9999] p-4">
    <div class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative">
        <button onclick="closeQuickView()" class="absolute top-4 right-6 text-4xl z-10">&times;</button>
        <div id="quickViewContent" class="p-8"></div>
    </div>
</div>

<script>
// ==========================================
// CA≈ÅY JAVASCRIPT ‚Äì GOTOWY DO DZIA≈ÅANIA
// ==========================================

let cart = JSON.parse(localStorage.getItem('adelCart')) || [];

const products = [
    { id:1, name:"Koszulka Portret", price:119, category:"koszulka", image:"https://i.ibb.co/Z6x5MTH6/Screenshot-20250714-002343-Files-by-Google-2.jpg", colors:["Czarny","Bia≈Çy","Bordowy"], sizes:["S","M","L","XL","XXL"] },
    { id:2, name:"Koszulka Adelbertus", price:119, category:"koszulka", image:"https://i.ibb.co/1fWw0hhY/Screenshot-20250714-002113-Files-by-Google-2.jpg", colors:["Czarny","Bia≈Çy","Bordowy"], sizes:["S","M","L","XL","XXL"] },
    { id:3, name:"Bluza Urban", price:199, category:"bluza", image:"https://i.ibb.co/kgrCffk4/Screenshot-20250714-002247-Files-by-Google-2.jpg", colors:["Czarny","Bia≈Çy","Bordowy"], sizes:["S","M","L","XL","XXL"] },
    { id:4, name:"Czapka Classic", price:99, category:"czapka", image:"https://i.ibb.co/7tmM2QRP/file-000000004d38620a9f9d0d8d43926ba0.png", colors:["Czarny","Bia≈Çy"], sizes:["Regulowany"] },
    // dodaj resztƒô swoich produkt√≥w w tym samym formacie ‚Äì minimum 10-15 sztuk
    // przyk≈Çad:
    { id:5, name:"Koszulka Game Over", price:119, category:"koszulka", image:"https://i.ibb.co/JFwsTR50/1765139504481.png", colors:["Czarny","Bia≈Çy"], sizes:["S","M","L","XL","XXL"] },
    // ... reszta Twoich wzor√≥w
];

function renderProducts(filtered = products) {
    const grid = document.getElementById('productsGrid');
    if (!grid) return;
    grid.innerHTML = '';
    filtered.forEach(p => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
            <div class="relative overflow-hidden aspect-square bg-zinc-100">
                <img src="${p.image}" alt="${p.name}" class="w-full h-full object-contain transition-transform duration-500 hover:scale-110" loading="lazy">
            </div>
            <div class="p-6">
                <h3 class="text-xl font-bold mb-2">${p.name}</h3>
                <p class="text-2xl font-black gold mb-4">${p.price} z≈Ç</p>
                <button onclick="quickView(${p.id})" class="w-full py-3 bg-zinc-800 text-white rounded-xl hover:bg-zinc-700 transition mb-3">Szybki podglƒÖd</button>
                <button onclick="addToCart(${p.id})" class="add-to-cart-btn add-to-cart-btn-enhanced gold-bg">Dodaj do koszyka</button>
            </div>
        `;
        grid.appendChild(card);
    });
}

function filterProducts() {
    const category = document.getElementById('filterCategory')?.value || 'all';
    const search = document.getElementById('searchInput')?.value.toLowerCase() || '';
    
    let filtered = products;
    if (category !== 'all') filtered = filtered.filter(p => p.category === category);
    if (search) filtered = filtered.filter(p => p.name.toLowerCase().includes(search));
    
    renderProducts(filtered);
}

function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;

    const existing = cart.find(item => item.id === productId);
    if (existing) {
        existing.quantity++;
    } else {
        cart.push({ ...product, quantity: 1 });
    }

    localStorage.setItem('adelCart', JSON.stringify(cart));
    updateCart();
    flyToCartAnimation(event);
    showConfetti();
}

function flyToCartAnimation(e) {
    const fly = document.createElement('div');
    fly.className = 'fly-to-cart';
    fly.innerHTML = '<i class="fas fa-tshirt text-2xl"></i>';
    fly.style.left = (e.clientX - 30) + 'px';
    fly.style.top = (e.clientY - 30) + 'px';
    document.body.appendChild(fly);
    setTimeout(() => fly.remove(), 1000);
}

function showConfetti() {
    // prosta confetti (mo≈ºna dodaƒá bibliotekƒô je≈õli chcesz mocniejszƒÖ)
    for(let i=0;i<30;i++){
        const c = document.createElement('div');
        c.style.position = 'fixed';
        c.style.width = '10px';
        c.style.height = '10px';
        c.style.background = ['#d4af37','#fff','#000'][Math.floor(Math.random()*3)];
        c.style.left = Math.random()*100 + 'vw';
        c.style.top = '-10px';
        c.style.opacity = Math.random();
        c.style.transform = `rotate(${Math.random()*360}deg)`;
        document.body.appendChild(c);
        setTimeout(() => {
            c.style.transition = 'all 1.5s';
            c.style.top = '100vh';
            c.style.opacity = '0';
        }, 100);
        setTimeout(() => c.remove(), 2000);
    }
}

function updateCart() {
    const count = document.getElementById('cartCount');
    const items = document.getElementById('cartItems');
    const totalEl = document.getElementById('cartTotal');

    const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    count.textContent = cart.reduce((sum, i) => sum + i.quantity, 0);
    totalEl.textContent = total.toFixed(0) + ' z≈Ç';

    items.innerHTML = cart.length ? '' : '<p class="text-center text-gray-500 py-10">Koszyk pusty</p>';

    cart.forEach((item, idx) => {
        const div = document.createElement('div');
        div.className = 'flex gap-4 border-b pb-4';
        div.innerHTML = `
            <img src="${item.image}" class="w-20 h-20 object-cover rounded-xl">
            <div class="flex-1">
                <p class="font-bold">${item.name}</p>
                <p class="gold">${item.price} z≈Ç √ó ${item.quantity}</p>
            </div>
            <button onclick="removeFromCart(${idx})" class="text-red-600"><i class="fas fa-trash"></i></button>
        `;
        items.appendChild(div);
    });

    // PayPal
    document.getElementById('paypal-button-container').innerHTML = '';
    if (cart.length) {
        paypal.Buttons({
            createOrder: (data, actions) => {
                return actions.order.create({
                    purchase_units: [{
                        amount: { value: total.toFixed(2) }
                    }]
                });
            },
            onApprove: (data, actions) => {
                return actions.order.capture().then(details => {
                    alert('P≈Çatno≈õƒá zaakceptowana! Dziƒôkujemy!');
                    cart = [];
                    updateCart();
                    toggleCart();
                });
            }
        }).render('#paypal-button-container');
    }
}

function removeFromCart(idx) {
    cart.splice(idx, 1);
    localStorage.setItem('adelCart', JSON.stringify(cart));
    updateCart();
}

function toggleCart() {
    document.getElementById('cartPanel').classList.toggle('right-0');
}

function sendOrderWhatsApp() {
    let msg = "Zam√≥wienie Adelbertus:\n\n";
    cart.forEach(i => msg += `${i.name} √ó ${i.quantity} ‚Äì ${i.price*i.quantity} z≈Ç\n`);
    msg += `\nSuma: ${cart.reduce((s,i)=>s+i.price*i.quantity,0)} z≈Ç\n\nProszƒô o potwierdzenie.`;
    window.open(`https://wa.me/48604296360?text=${encodeURIComponent(msg)}`);
}

function sendOrderEmail() {
    let body = "Zam√≥wienie Adelbertus:\n\n";
    cart.forEach(i => body += `${i.name} √ó ${i.quantity} ‚Äì ${i.price*i.quantity} z≈Ç\n`);
    body += `\nSuma: ${cart.reduce((s,i)=>s+i.price*i.quantity,0)} z≈Ç`;
    window.open(`mailto:mielniczukgrzegosz74@gmail.com?subject=Zam√≥wienie Adelbertus&body=${encodeURIComponent(body)}`);
}

// Chatbot
function toggleChatbot() {
    document.getElementById('chatWindow').classList.toggle('hidden');
}

function sendChatMessage() {
    const input = document.getElementById('chatInput');
    const msg = input.value.trim();
    if (!msg) return;
    
    addChatMessage('user', msg);
    input.value = '';

    setTimeout(() => {
        let reply = "Cze≈õƒá! Co s≈Çychaƒá? üòà";
        if (msg.toLowerCase().includes('rozmiar')) reply = "Podaj wzrost i wagƒô ‚Äì dobierzemy idealnie. Albo kliknij szybki przycisk poni≈ºej üëá";
        if (msg.toLowerCase().includes('koszulka')) reply = "Koszulki mamy od 119 z≈Ç ‚Äì kt√≥ry wz√≥r Ciƒô jara najbardziej? Mogƒô podrzuciƒá top 3 üî•";
        
        addChatMessage('bot', reply);
    }, 800);
}

function addChatMessage(type, text) {
    const div = document.createElement('div');
    div.className = type === 'user' ? 'ml-auto bg-yellow-400 text-black px-5 py-3 rounded-2xl max-w-[80%]' : 'mr-auto bg-gray-200 px-5 py-3 rounded-2xl max-w-[80%]';
    div.textContent = text;
    document.getElementById('chatMessages').appendChild(div);
    div.scrollIntoView();
}

// Quick View
function quickView(id) {
    const p = products.find(x => x.id === id);
    if (!p) return;

    document.getElementById('quickViewContent').innerHTML = `
        <div class="grid md:grid-cols-2 gap-12">
            <img src="${p.image}" class="w-full rounded-2xl shadow-2xl">
            <div>
                <h2 class="text-4xl font-black mb-4">${p.name}</h2>
                <p class="text-5xl font-black gold mb-8">${p.price} z≈Ç</p>
                <button onclick="addToCart(${p.id}); closeQuickView()" class="w-full py-6 bg-yellow-400 text-black font-bold text-2xl rounded-2xl hover:scale-105 transition">Dodaj do koszyka</button>
            </div>
        </div>
    `;
    document.getElementById('quickViewModal').classList.remove('hidden');
}

function closeQuickView() {
    document.getElementById('quickViewModal').classList.add('hidden');
}

// Studio projektowe
let canvas = null;
function initCanvas() {
    canvas = new fabric.Canvas('designCanvas', { backgroundColor: '#ffffff' });
}
function addTextToCanvas() {
    const text = new fabric.IText('Tw√≥j tekst', { left:100, top:100, fontSize:60, fill:'#000' });
    canvas.add(text);
}
function clearCanvas() {
    canvas.clear();
}
function exportAndAddToCart() {
    const dataURL = canvas.toDataURL({format:'png'});
    addToCartCustom('Custom Design', 249, dataURL);
}
function addToCartCustom(name, price, image) {
    cart.push({ id:Date.now(), name, price, image, quantity:1 });
    updateCart();
    toggleCart();
}

// Nawigacja sekcji
document.querySelectorAll('[data-section]').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
        document.getElementById(btn.dataset.section).classList.remove('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    });
});

// Start
document.addEventListener('DOMContentLoaded', () => {
    renderProducts();
    updateCart();
    initCanvas();
    // animacja progress bar zbi√≥rki
    setTimeout(() => {
        document.getElementById('progressBar').style.width = '50%';
        document.getElementById('charityProgress').style.width = '50%';
    }, 500);
});
</script>

</body>
</html>
